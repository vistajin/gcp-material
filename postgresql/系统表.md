### 系统表

系统表之间基本上都是以oid关联，例如pg_attrdef.adrelid关联pg_class.oid

```sql
-- show system tables 1
\dS+
                                     List of relations
   Schema   |              Name               | Type  |  Owner   |    Size    | Description 
------------+---------------------------------+-------+----------+------------+-------------
 pg_catalog | pg_aggregate                    | table | postgres | 56 kB      | 
 pg_catalog | pg_am                           | table | postgres | 40 kB      | 
 pg_catalog | pg_amop                         | table | postgres | 80 kB      | 
 pg_catalog | pg_amproc                       | table | postgres | 56 kB      | 
 pg_catalog | pg_attrdef                      | table | postgres | 8192 bytes | 
 pg_catalog | pg_attribute                    | table | postgres | 464 kB     | 
 pg_catalog | pg_auth_members                 | table | postgres | 8192 bytes | 
 pg_catalog | pg_authid                       | table | postgres | 16 kB      | 


-- show system tables 2
select relname from pg_class where relname like 'pg_%' and relkind in ('r') order by relname;
-- show system tables 3
select relkind,relname from pg_class where relnamespace = (select oid from pg_namespace where nspname='pg_catalog') and relkind = 'r' order by 1,2;
```

| Table              | Description                                                  |
| ------------------ | ------------------------------------------------------------ |
| pg_database        | 该系统表存储数据库的信息。和大多数系统表不同的是，在一个集群里该表是所有数据库共享的，即每个集群只有一份pg_database拷贝，而不是每个数据库一份。 |
| pg_class           | 该系统表记录了数据表、索引(仍然需要参阅pg_index)、序列、视图、复合类型和一些特殊关系类型的元数据。relkind（r=table，i=index，S=sequence，v=view，m=materialized view，c=composite type，t=TOAST table，f=foreign table） |
| pg_index           | 该系统表存储关于索引的一部分信息。其它的信息大多数存储在pg_class。 |
| pg_attribute       | 该系统表存储所有表(包括系统表，如pg_class)的字段信息。数据库中的每个表的每个字段在pg_attribute表中都有一行记录。 select * from pg_attribute where attrelid = 'tb1'::regclass; |
| pg_attrdef         | 该系统表主要存储字段缺省值，字段中的主要信息存放在pg_attribute系统表中。注意：只有明确声明了缺省值的字段在该表中才会有记录。 |
| pg_authid          | 该系统表存储有关数据库认证的角色信息，在PostgreSQL中角色可以表现为用户和组两种形式。 |
| pg_auth_members    | 该系统表存储角色之间的成员关系。                             |
| pg_constraint      | 该系统表存储PostgreSQL中表对象的检查约束、主键、唯一约束、排他约束和外键约束，但不包括非空约束。 |
| pg_tablespace      | 该系统表存储表空间的信息。                                   |
| pg_namespace       | 该系统表存储名字空间(模式)。                                 |
| pg_am              | 系统支持的索引访问方法（如btree，hash，gist，gin，spgist,，heap） |
| pg_cast            | 数据库的显性类型转换路径信息，包含內建的和自定义的。         |
| pg_conversion      | 字符集之间转换的相关信息。例如转换函数                       |
| pg_db_role_setting | 基于角色和数据库组合的定制参数信息。alter role vista set enable_seqscan=off; |
| pg_default_acl     | 存储新建对象的初始权限信息。alter default privileges for role postgres in shcema sa grant all on tables to db_name; \dp* tb1 |
| pg_depend          |                                                              |



### 系统视图

```sql
select relname from pg_class where relname like 'pg_%' and relkind in ('v') order by relname;
```

| View        | Description                                                  |
| ----------- | ------------------------------------------------------------ |
| pg_tables   | 该视图提供了对有关数据库中每个表的有用信息地访问。           |
| pg_indexes  | 该视图提供对数据库中每个索引的有用信息的访问。               |
| pg_views    | 该视图提供了对数据库里每个视图的有用信息的访问途径。         |
| pg_user     | 该视图提供了对数据库用户的相关信息的访问。 这个视图只是pg_shadow表的公众可读的部分的视图化，但是不包含口令字段。 |
| pg_roles    | 该视图提供访问数据库角色有关信息的接口。这个视图只是pg_authid表的公开可读部分的视图化，同时把口令字段用空白填充。 |
| pg_rules    | 该视图提供对查询重写规则的有用信息访问的接口。               |
| pg_settings | 该视图提供了对服务器运行时参数的访问。它实际上是SHOW和SET命令的另外一种方式。它还提供一些用SHOW不能直接获取的参数的访问，比如最大和最小值。我们不能对pg_settings视图进行插入或者删除， 只能更新。对pg_settings中的一行进行UPDATE等效于在该命名参数上执行*SET*命令。 |
|             |                                                              |
|             |                                                              |
|             |                                                              |
|             |                                                              |

